<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.8/p5.min.js"></script>
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.8/addons/p5.dom.js"></script>
 <script type="text/javascript">
 </script>
 
		<title>WEATHER BOX</title>
	</head>

	<body>


<p>
	<input id ="city" value="London"></input>
</br>
<button id="submit">submit</button>

</p>

		<script type="text/javascript">
		var text;     // variable for the text div you'll create
		var socket = new WebSocket("ws://localhost:8081");

		function setup() {
			createCanvas(1000,1000);

			// The socket connection needs two event listeners:
	   socket.onopen = openSocket;
	   socket.onmessage = showData;
	  
	 
	   //make a new div and position it at 10, 10:
	   text = createDiv("Data from aruduino:");
	   text.position(200,400);
	 
}


   function openSocket() {
    text.html("Pocket open");
    socket.send("Nello server");
    console.log('reading');
  }


 
function showData(result) {
    // when the server returns, show the result in the div:
    text.html("Sensor needing:" + result.data);
    xPos = int(result.data);        // convert result to an integer
    text.position(xPos, 10);        // position the text
  }

		
		</script>:


		<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
		<script src="wsServer.js"></script>
		
		
	
	</body>
</html>
